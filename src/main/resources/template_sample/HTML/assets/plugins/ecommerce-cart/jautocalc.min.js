!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=jQuery},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);function s(e){const t=[],n=/{([^}]+)}/gi;let r;for(;null!=(r=n.exec(e));)t.push(r[1]);return t}function c(e){return/^[a-zA-Z].*/.test(e)?':input[name="'+e+'"]':e}function a(e,t,n){const r=e+"",s=t.decimalOpts.concat(t.thousandOpts),c=["0","1","2","3","4","5","6","7","8","9","-"];let a="",u="",i="",f=-1,l="",d="",g=-1,p=0;for(let e=r.length-1;e>=0;e--)u=r.charAt(e),-1!=o.a.inArray(u,c)?a=u+a:""==i&&-1!=o.a.inArray(u,t.decimalOpts)?(f=e,i=u,a="."+a):""==l&&-1!=o.a.inArray(u,t.thousandOpts)?l=u:""!=d||-1!=o.a.inArray(u,s)||0!=e&&e!=r.length-1||(d=u,g=e);return""!=i&&(p=r.length-f-1,g>f&&p--),-1!=t.decimalPlaces&&(p=t.decimalPlaces),3===arguments.length&&(""==n.dec&&""!=i&&(n.dec=i),(-1==n.decPlaces&&-1!=p||-1!=n.decPlaces&&-1!=p&&p<n.decPlaces)&&(n.decPlaces=p),""==n.thou&&""!=l&&(n.thou=l),""==n.sym&&""!=d&&(n.sym=d,n.symLoc=g)),t.emptyAsZero&&""==a&&(a="0"),a}const u={"+":{op:"+",precedence:10,assoc:"L",exec:function(e,t){return e+t}},"-":{op:"-",precedence:10,assoc:"L",exec:function(e,t){return e-t}},"*":{op:"*",precedence:20,assoc:"L",exec:function(e,t){return e*t}},"/":{op:"/",precedence:20,assoc:"L",exec:function(e,t){return e/t}},"**":{op:"**",precedence:30,assoc:"R",exec:function(e,t){return Math.pow(e,t)}}},i={e:Math.exp(1),pi:4*Math.atan2(1,1)};function f(e){const t=e.offset;let n,r;for(n=0;"0123456789".indexOf(e.string.substr(e.offset,1))>=0&&e.offset<e.string.length;)e.offset++;if("."==e.string.substr(e.offset,1))for(e.offset++;"0123456789".indexOf(e.string.substr(e.offset,1))>=0&&e.offset<e.string.length;)e.offset++;if(e.offset>t)return parseFloat(e.string.substr(t,e.offset-t));if("+"==e.string.substr(e.offset,1))return e.offset++,f(e);if("-"==e.string.substr(e.offset,1))return e.offset++,function(e){return-e}(f(e));if("("==e.string.substr(e.offset,1)){if(e.offset++,n=d(e),")"==e.string.substr(e.offset,1))return e.offset++,n;throw e.error="Parsing error: ')' expected",new Error("parseError")}if(null!=(r=/^[a-z_][a-z0-9_]*/i.exec(e.string.substr(e.offset)))){const t=r[0];if(e.offset+=t.length,t in i)return i[t];throw e.error="Semantic error: unknown variable '"+t+"'",new Error("unknownVar")}throw e.string.length==e.offset?(e.error="Parsing error at end of string: value expected",new Error("valueMissing")):(e.error="Parsing error: unrecognized value",new Error("valueNotParsed"))}function l(e){return"**"==e.string.substr(e.offset,2)?(e.offset+=2,u["**"]):"+-*/".indexOf(e.string.substr(e.offset,1))>=0?u[e.string.substr(e.offset++,1)]:null}function d(e){const t=[{precedence:0,assoc:"L"}];let n=f(e);for(;;){const r=l(e)||{precedence:0,assoc:"L"};for(;r.precedence<t[t.length-1].precedence||r.precedence==t[t.length-1].precedence&&"L"==r.assoc;){const e=t.pop();if(!e.exec)return n;n=e.exec(e.value,n)}t.push({op:r.op,precedence:r.precedence,assoc:r.assoc,exec:r.exec,value:n}),n=f(e)}}function g(e,t,n,r,o,s,u){let i="";const f={dec:"",decPlaces:-1,thou:"",sym:"",symLoc:-1};for(const t in u){const n=u[t],s=new RegExp(n.rgx,"gi");let c;for(;null!=(c=s.exec(e));){const t=n.exec(c[1],r,o,f);e=e.replace(new RegExp(n.rgx,"gi"),t)}}for(let s=0;s<t.length;s++){const u=t[s],i=a($(c(u),r).val(),o,f);if(0==i.length)return void n.val("").change();e=e.replace(new RegExp("{"+u+"}","g"),i)}e=e.replace(/ /g,""),""==f.dec&&(f.dec=o.decimalOpts[0]),-1==f.decPlaces&&(f.decPlaces=0),""==f.thou&&(f.thou=o.thousandOpts[0]);const l=function(e,t){const n={string:e,offset:0};try{const e=d(n);if(n.offset<n.string.length)throw n.error="Syntax error: junk found at offset "+n.offset,new Error("trailingJunk");return e}catch(e){return t.showParseError&&alert(`${n.error} (${e}):\n${n.string.substr(0,n.offset)}<*>${n.string.substr(n.offset)}`),null}}(e,o);i=(i=(i=(i=(i=null==l?"":function(e,t){const n=(e.toFixed(t)+"").split("."),r=n.length>1?"."+n[1]:"",o=/(\d+)(\d{3})/;let s=n[0];for(;o.test(s);)s=s.replace(o,"$1,$2");return s+r}(l,f.decPlaces)).replace(/\./g,"<c>")).replace(/\,/g,"<t>")).replace(/<c>/g,f.dec)).replace(/<t>/g,f.thou),f.symLoc>-1&&(0==f.symLoc?i=f.sym+i:i+=f.sym),o.smartIntegers&&(i=i.replace(/[\,\.]0+$/,"")),$.isFunction(o.onShowResult)&&(i=o.onShowResult.call(n,i)),n.val(i),o.chainFire&&n.change()}const p="jautocalc",h="_"+p;let x="focus change blur";function y(e,t,n,r){return e.each(function(){const e=$(this);$("["+t.attribute+"]:not(["+h+"])",e).each(function(){const o=$(this),a=o.attr(t.attribute),u=s(a);if(0==u.length)return;for(let t=0;t<u.length;t++)if(0==$(c(u[t]),e).length)return;t.keyEventsFire&&(x+=" keyup keydown keypress");const i=x.split(" ").join("."+p+" ");for(let s=0;s<u.length;s++){const f=u[s];$(c(f),e).bind(i,{equation:a,equationFields:u,result:o,context:e,opts:t,vars:n,funcs:r},function(e){g(e.data.equation,e.data.equationFields,e.data.result,e.data.context,e.data.opts,e.data.vars,e.data.funcs)})}t.readOnlyResults&&o.attr("readonly","readonly"),o.attr(h,h),t.initFire&&$(c(u[0]),e).change()})})}function m(e,t){return e.each(function(){const e=$(this);$("["+t.attribute+"]["+h+"]",e).each(function(){const n=$(this),r=s(n.attr(t.attribute));if(0!=r.length){for(let t=0;t<r.length;t++){const n=r[t];$(c(n),e).unbind("."+p)}t.readOnlyResults&&n.removeAttr("readonly"),n.removeAttr(h)}})})}const b={sum:{rgx:"sum\\({([^}]+)}\\)",exec:function(e,t,n,r){let s=0;return o()(c(e),t).each(function(){const e=parseFloat(a(o()(this).val(),n,r));s+=e}),s}},avg:{rgx:"avg\\({([^}]+)}\\)",exec:function(e,t,n,r){let s=0;const u=o()(c(e),t).each(function(){const e=parseFloat(a(o()(this).val(),n,r));s+=e}).length;return s/u}},min:{rgx:"min\\({([^}]+)}\\)",exec:function(e,t,n,r){return Math.min.apply(this,o()(c(e),t).map(function(e,t){return a(o()(t).val(),n,r)}).get())}},max:{rgx:"max\\({([^}]+)}\\)",exec:function(e,t,n,r){return Math.max.apply(this,o()(c(e),t).map(function(e,t){return a(o()(t).val(),n,r)}).get())}},count:{rgx:"count\\({([^}]+)}\\)",exec:function(e,t){return o()(c(e),t).length}},countNotEmpty:{rgx:"countNotEmpty\\({([^}]+)}\\)",exec:function(e,t){return o.a.grep(o()(c(e),t),function(e){return(o()(e).val()+"").length>0}).length}}};o.a.fn.jAutoCalc=Object.assign(function(...e){let t="init",n=o.a.extend({},o.a.fn.jAutoCalc.defaults);const r={init:y,destroy:m};for(const r of e)"string"==typeof r&&(t=r.toString()),"object"==typeof r&&(n=o.a.extend(n,r));const s=o.a.extend({},b,n.funcs),c=o.a.extend([],i,n.vars);return r[t]?r[t](this,n,c,s):y(this,n,c,s)},{defaults:{attribute:"jAutoCalc",thousandOpts:[",","."," "],decimalOpts:[".",","],decimalPlaces:-1,initFire:!0,chainFire:!0,keyEventsFire:!1,readOnlyResults:!0,showParseError:!0,emptyAsZero:!1,smartIntegers:!1,onShowResult:null,funcs:{},vars:{}}})}]);